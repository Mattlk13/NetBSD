VERSION: :1,$s/2020-07-29/2020-07-29/g
ISO:     :1,$s/202007281510Z/202007281510Z/g
NetBSD:  :1,$s/9.99.69/9.99.69/g
PKGSRC:  :1,$s/2020-04-18/2020-04-18/
# Check MD5 filename before post this mail.
# why dont we take off alone.

To: port-armNetBSD.org@localhost
Subject: 2020-07-29-netbsd-raspi-aarch64.img
From: Jun Ebihara <jun@soum.co.jp>

I've updated 2020-07-29-netbsd-raspi-aarch64.img.gz for RPI3/3B/4.

http://cdn.netbsd.org/pub/NetBSD/misc/jun/raspberry-pi/2020-07-29-aarch64/2020-07-29-netbsd-raspi-aarch64.img.gz
http://cdn.netbsd.org/pub/NetBSD/misc/jun/raspberry-pi/2020-07-29-aarch64/MD5

Topics:
- only for RPI3/RPI3B+/RPI4
- build script
 https://github.com/ebijun/NetBSD/tree/master/RPI/RPIimage/Image/aarch64

RPI4 status:
- boot via UEFI
 UEFI_VER=v1.14 (should update 1.17)
 serial ,should not set graphical
 disable 3GB -> recognize 4GB
- HDMI: works
- audio: not known
- USB device: works
- bwfm0 Wireless network:?
  (works well on RPI3,not works on RPI4?)
- Pi 4 Bootloader Configuration
  https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2711_bootloader_config.md

Update:
- NetBSD-current 9.99.69 evbarm-aarch64 202007281510Z arm64.img from nyftp.
- pre-installed packages:
- pre-build packages:
  See /etc/pkg_install.conf
  PKG_PATH=http://cdn.netbsd.org/pub/NetBSD/misc/jun/raspberry-pi/aarch64/2020-04-18/

pkgsrc: 
  # cd /usr
  # ftp http://cdn.netbsd.org/pub/pkgsrc/current/pkgsrc.tar.gz
  # ls /usr/pkgsrc                ... check if exists.
  # tar tzvf pkgsrc.tar.gz |head  ... check the archive
  # tar xzvf pkgsrc.tar.gz        ... extract
  # ls /usr/pkgsrc                ... check what extracted
  # pkg_chk -g                    ... List to/usr/pkgsrc/pkgchk.conf
  # (cd /usr/pkgsrc;cvs update -PAd) ... update
  # pkg_chk -un                   ... Update (listup)
  # pkg_chk -u                    ... Update

EEPROM verson:

Check&update with Raspberry Pi OS (pi:raspberry)

pi@raspberrypi:~ $ cat /etc/default/rpi-eeprom-update 
FIRMWARE_RELEASE_STATUS="stable"

pi@raspberrypi:~ $ sudo rpi-eeprom-update
BCM2711 detected
Dedicated VL805 EEPROM detected
BOOTLOADER: up-to-date
CURRENT: Thu 16 Jul 15:15:46 UTC 2020 (1594912546)
 LATEST: Thu 16 Jul 15:15:46 UTC 2020 (1594912546)
 FW DIR: /lib/firmware/raspberrypi/bootloader/stable
VL805: up-to-date
CURRENT: 000138a1
 LATEST: 000138a1

--
Jun Ebihara
